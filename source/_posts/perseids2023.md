---
title: 2023 英仙流星雨 器材党的大翻车！
date: 2023-08-20 21:35:19
updated: 2023-09-2 13:22:34
tags:
- 观测
---

> 本文内容摘自我的观星笔记，本意是记录自己踩过的坑和作对的事情。可能缺少必要的上下文，如果理解困难欢迎与我讨论

![超时空融合，地景和天空背景来自 Ruby Beach (Olympic, 0818)，90 余颗流星来着 Dege Peek (Rainier, 0812)。背景视角由多张 20mm 视角的照片合成，流星未做畸变校正，实际位置有差异。](perseids_olympic_small.jpg)

<!-- more -->

![全部数据都来自 0812 Rainier 的 20mm 跟踪机位。天空部分由 2800+ frame 在 Siril 中合成，由于拍摄开始时画面左下角位于地平线以下，排异后会有很大的暗角，这部分天空使用最后 800 张照片重新叠加并融合进底图。](perseids.jpg)

![Dege peek 日落，没有看到绿闪](IMG_2827.jpeg)

![现场器材照](WechatIMG1854.jpg)

![躺在地上看流星。垫了垫子但还是很硌，盖了太空毯](IMG_20230812_211938_00_161-2.jpg)

![地面很硬](IMG_20230812_211938_00_012(1).jpg)



## 带地景的流星雨拍摄

### 前期

本次方案：A7R2 + 20G 柔焦，polaire 对辐射点方向跟踪拍摄。 5s F1.8 ISO6400

### 选择流星

将所有照片导入Lightroom进行基础的调色，然后导出为分辨率相对较低但不太低的8位JPEG或TIFF，或者偏近也可以，关键是要8位。

将这些照片送入 [OneClick Meteor Shower](https://github.com/kenluozhenyu/One_Click_Meteor_Shower/tree/master) 程序进行识别。识别出来的结果中，会有很多的False Positive，而False Negative的数量相对较少。

使用一个程序选出识别到流星的照片的文件名，然后针对这些有流星的图片再做一遍全分辨率导出，再送入程序进行一次识别。这样可以获得高分辨率的流星蒙版。

我将程序识别的结果和自己粗略扫视一遍的结果进行对比，发现自己看的结果比程序少了大约55个，而程序漏掉了大约24个。程序漏掉的绝大部分都是非常短的流星。由于是朝向辐射点拍摄的，所以遗漏的都是离辐射点非常近的短流星。只有两个大的流星被遗漏，其中一个特别亮。可能的原因是大流星有纺锤状的高光，不符合第一步基于 hough line 的筛选条件。

### 底图合成

生成底图的过程尝试了全景合成，这样可以得到比20毫米更宽广的视野。我试用了两个工具，一个是开源的 Hugin，它是基于 Panoramic Tool 的，另一个是 PTGUI，它曾经也是基于 Panoramic Tool 的，但后来逐渐摆脱了对它的依赖。作为一款收费软件，PTGUI 的界面非常友好，它的操作逻辑非常清晰。但是，它在星空的自动识别上表现得不太理想，虽然它认为已经拼接好了，但实际上是有错位的。相比之下，Hugin 虽然也不能做到全自动，但总的来说，需要手动调节的部分较少，只是它的界面真的很难用。

最后的底图大约由四张20毫米视角的照片拼接而成，这张底图包括了地面和天空。因此，后续还需要对地面和天空进行分别的处理。具体来说，需要在Photoshop里面先使用选择工具，直接选出天空，这样就获得天空和地面两个图层/蒙版。

地面部分在前期拍摄时有些欠爆，加上每个角度只拍了一张，信噪比不是很高，限制了后期空间。所以下次在拍摄全景时，尤其是在夜间拍摄这种照片时，可以考虑每个角度多拍几张frame，这样合成时可以得到更干净的照片。

由于拍摄时光圈全开，星点都有比较严重的紫边，星点密集区域像有紫色的雾。（彗差因为柔焦镜的存在问题不大）在 Photoshop 里可以一定程度上修正这个问题。具体做法是在 filter - camera raw filter 下面的 optic tab 里，使用滴管工具对紫边进行取样，然后它会自动调节参数。应用之后，整个照片的观感能有很大提升。

### 融合

最后一步是将流星图层融合到已经合成好的底图上。这一步可以做得比较严谨，也可以简化一些。如果选择严谨的做法，由于底图的视角广于20毫米，它会有更加夸张的畸变，因此需要对流星做对应的畸变同步。这一步需要在全景合成的时候就操作好，但这个过程比较复杂。所以这次我选择了更加简单的操作，也就是直接将包括全部流星的图层复制到底图上。在这一步中，需要注意的是要将辐射点的位置以及流星图的方向大致对准，这样才能反映出较为真实的轨迹。我使用了全部在 Rainier 拍摄的素材作为银河的位置参考，将 Rainier 银河与 Olympic 拍摄的银河的大致方向重合，用来确定流星图层的旋转量。

## Summary

## 素材

- A7R2：2829 frames
- OneR：全景延时

## Lessons learnt +

- 太空毯效果很好，前提是能把自己裹好。当被子不太合适，脚下漏风，因此不适合多人 share
- 22 点到 2 点，目视新记录 142 + 1，最后一颗是在下山路上撒尿时看到的。撒尿抬头有点晕
- 拍到约 100 颗流星，且拍摄方向与目视方向不重合
- 同伴在拍摄点找到 3 棵树挡出来的完美避风点，刚好能放下 3 把椅子。可惜地不平不适合看流星

## Lessons learnt -

- 负重 hiking 极限重量：胸前背后各一个背包，5.6 + 7.8 kg，5 kg 电池，露营椅
    
    严重高估了自己负重登山的能力。拍摄地点距离停车场大约1.5英里，而且有800英尺的海拔高度。如果只是正常的徒步旅行，这应该不难。但由于负重，我花了55分钟才走完这段距离，而且非常累。朋友还帮我拿了5公斤重的电池，如果我自己拿，肯定会花更长的时间。所以，我需要加强锻炼，并在以后的拍摄中尽量减轻负重。
    
    非常庆幸的是出发前一天，我们两人都选择了不带 AM5。
    
    ![第二天回家后的肩膀](IMG_2828.jpeg)
    
- 有多少资源做多少事，不要在出发前折腾器材
    
    出发前一刻还在研究俄罗斯鱼眼镜头转接，并使用 268C 新的高帧率15fps模式拍摄视频的方案
    
    首先在测试新读取模式时就遇到了问题。SharpCup 里只要选中了这个模式，软件就会崩溃。除了QHY自家的非常难用的 EzCap能用之外，其他所有的软件都不能使用这个模式。我联系了QHY客服，他们的技术支持远程控制我的电脑收集了一些 log，但并没有什么用。我第二天白天自己折腾，使用了稍微老一些的固件（英文官网标注的 stable 版本，而不是中文官网上 stable，但英文 beta 的最新版本）发现可以解决这个问题。
    
    出发前一天的晚上，我开始上机测试转接环以及最终的效果。这个转接环的实际后截距长度和我通过查询参数计算出来的后截距并不一样，按计算结果打印的转接环完全不能合焦。减去 5mm 的版本也不行，要减 10mm 才能在无限远合焦，但这个合焦位置并不是镜头标尺上的无限远。另一方面拍摄效果非常差，稍微偏离画面中间一点点的星星就有很严重的彗差。我当时只是认为这是镜头本身的问题，因为之前其实并没有怎么使用过这个镜头，甚至也没有把它转接到索尼上试过夜间拍摄。直到第二天早上，也就是出发日，我在试图转接CY 口的 50 F1.4 时（这个镜头最后也带上了，成了完全的死重）才意识到是我转接环的问题，即后截距偏差比较大。所以我马不停蹄地又打印了两板不同厚度的垫片。但是因为白天没有星星，我只能用远处的树进行测试。事实证明这些树并不够远，在它上面能大概在无限远标尺对焦的转接环，并不能让星星在晚上合焦。这是到现场才发现的，这个机位因此就完全废掉了。
    
    其实在出发前，我考虑过添加的垫片可能会过犹不及，导致反而不能合焦的问题。所以我带了一把螺丝刀，想着到现场可以取出垫片保证至少能拍。因为我不想用 iFixit 的好螺丝刀，就特意拿了一把很久没用的、丢了也不 care 的螺丝刀。可不幸的是，我并没有发现这把刀质量非常差（我知道刀把里面裂了，但没当回事），甚至已经滑丝了。结果就是到了现场我想用这个 plan B 保命的时候，螺丝完全拧不动。当时心灰意冷想着既然带了就拍着，iPad 上操作一番以为开始拍摄了，实际上完全没有，整夜也没有检查（也好）。所以这个废机位甚至没有产生任何废片。
    
    实际上，这个方案本身就不应该被执行。因为前一天的夜间测试已经明确显示，星星的亮度非常暗。不说最高帧率，即使降低到 10fps 100ms 曝光，画面的亮度仍然不足 （镜头是 F2.8），观感很差。而且在使用高速读取模式时，不能使用bin，这就导致数据量会非常大。15fps 时数据量甚至超过了 GK41 的内置SSD 读取速度（300M/s）了，即使外接一个高速固态硬盘也无济于事（1G/s 的 SSD 到 GK41 上也会变成 300M/s）。我曾考虑带笔记本，幸好我没有带，否则这将增加更多的重量。另外浪费了一部分时间想去写code 做后期 bin。经过以上测试结果已经说明原视频拍摄计划不可行，但我为了带这个器材，强行把方案改成了5s 曝光拍摄照片，补充视角。这个心态就注定不会有好结果。
    
    整套设备死重 3kg，外加 5kg 电池
    
    ![右上。远程桌面预览图是这个机位唯一的产出。](IMG_0539.png)
        
    ![IMG_20230812_211938_00_012.jpg](IMG_20230812_211938_00_012.jpg)
    
    ![相机安排，用于 polaire 的 3D 打印负重扩展因为缺少和本体连接的关键结构没能用上。insta360 钳在脚架上，用自拍杆拉高。](Untitled.png)
    
    相机安排，用于 polaire 的 3D 打印负重扩展因为缺少和本体连接的关键结构没能用上。insta360 钳在脚架上，用自拍杆拉高。
    
- 把折腾器材的时间分给取景
    
    车车选择的雪山银河的机位，其实我们曾经路过过，并且在周围看了一圈。但因为我们没有考虑到银河和雪山这个非常好的组合，而是一心地想着拍摄北方的辐射点，所以我们放弃了这个非常好的机位。如果事先使用巧设进行更加详细的规划，那么应该就不会在路过的时候错过这个绝佳的取景点。
    
- 不要眼高手低，虚心学习
    
    接上一条，车车在 2 年前用过这个机位，如果之前看过照片，也一定不会错过。抄作业也是学习
    
- 多带衣服！哪怕是放车里，现场换。别全信大佬的话，常识：每升高1000m，气温下降 6 °C
- 不要用没见过的设置
    
    OneR 拍延时用了没见过的 ISO 3200MAX 的设置，这个选项的实际意思是让相机自动 ISO，最大用到 3200. 因为镜头近处有 A7 的屏幕光（应该切到 evf 避免屏幕亮），导致所有全景图都是 ISO 100。后期虽然可以提亮（桌面 insta360 app 导出全景 tiff 图，LR 加曝光），但无法导入回 insta360 生态调整视角和防抖，只能用 FCPX 查看编辑全景延时。后者非常难操作，它的主要功能是直接分享全景视频而非从全景导出平面。
    

## 好玩的
基于现场器材照的 AI 生成图片。getimg.ai 

![getimg_ai_img-J2aEhWpKPpilY7Fz5aFww.png](getimg_ai_img-J2aEhWpKPpilY7Fz5aFww.png)

![getimg_ai_img-BRzoWoadtRvTOYK7o8Sz9.png](getimg_ai_img-BRzoWoadtRvTOYK7o8Sz9.png)
